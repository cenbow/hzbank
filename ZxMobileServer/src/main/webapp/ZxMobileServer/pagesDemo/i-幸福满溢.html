<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>直销银行</title>
<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link type="text/css" rel="stylesheet" href="../css/reset.css">
<link type="text/css" rel="stylesheet" href="../css/global.css">
<link type="text/css" rel="stylesheet" href="../css/common_1.css">
<link type="text/css" rel="stylesheet" href="../css/common_2.css">
<link type="text/css" rel="stylesheet" href="../css/common_3.css">
<link type="text/css" rel="stylesheet" href="../css/layouts.css">
<link type="text/css" rel="stylesheet" href="../css/index.css">
<link type="text/css" rel="stylesheet" href="../css/banks.css">
</head>

<body>
	<div class="new2016 fdDtlPage">
		<div class="view loaded2">
        	<h2>幸福满溢第6期</h2>
            <div class="rate">
            	<p>预期今日收益(元)</p>
                <h1><b>4.54</b></h1>
            </div>
            <div class="row">
            	<div class="cell">
                	<h2>本金(元)</h2>
                    <p class="ft16">1000元</p>
                </div>
                <div class="cell">
                	<h2>预期累计收益(元)</h2>
                    <p class="ft16">118.12 <span class="ml5 lh1 ft-big">›</span></p>
                </div>
            </div>
        </div>
        <div class="fudDetail">
        	<div class="tab row">
            	<div class="cell active">理财周期</div>
                <div class="cell">周期详情</div>
            </div>
        </div>
        
        <div class="tabPoint">
            <div class="funCycle">
            	<div class="halfProgressCircle" id="progCircle">
                	<div class="circleWrap">
                    	<div class="circle">
                            <div class="cutter">
                                <div class="bar"></div>
                            </div>
                        </div>
                        <span class="lbl a" data-percent="0%"></span>
                        <span class="lbl b" data-percent="50%"></span>
                        <span class="lbl c" data-percent="100%"></span>
                    </div>
                    <div class="state">
                    	<h1>已认购</h1>
                        <h2><b class="percent">0</b>%</h2>
                    </div>
                </div>
                <div class="raiseProgressBar" id="raiseBar">
                    <div class="bar">
                        <div class="step1"><i></i></div>
                        <div class="step2"><i></i></div>
                        <div class="step3"><i></i></div>
                        <i class="dot1">
                            <div class="mark">
                                <h1>09-20</h1>
                                <h2>募集开始</h2>
                            </div>
                        </i>
                        <i class="dot2">
                            <div class="mark">
                                <h1>09-21</h1>
                                <h2>募集结束</h2>
                            </div>
                        </i>
                        <i class="dot3">
                            <div class="mark">
                                <h1>09-22</h1>
                                <h2>起息日</h2>
                            </div>
                        </i>
                        <i class="dot4">
                            <div class="mark">
                                <h1>2017-01-23</h1>
                                <h2>到期日</h2>
                            </div>
                            
                        </i>
                    </div>
                </div>
            </div>
            <div class="cycleDetail" style="display:none">
              	<div class="tbl">	
                    <table width="100%" border="0" cellspacing="0" cellpadding="0">
                      <tr>
                        <td>产品余额/总额</td>
                        <td><span class="fc-blue">3204.35万元</span> / 5000万元</td>
                      </tr>
                      <tr>
                        <td>募集开始</td>
                        <td>2016-09-20  09:00</td>
                      </tr>
                      <tr>
                        <td>募集结束</td>
                        <td>2016-09-21  24:00</td>
                      </tr>
                      <tr>
                        <td>起息日</td>
                        <td>2016-09-22</td>
                      </tr>
                      <tr>
                        <td>到期日</td>
                        <td>2017-01-23</td>
                      </tr>
                      <tr>
                        <td>投资限额</td>
                        <td>每人累计50万元</td>
                      </tr>
                      <tr>
                        <td>还款方式</td>
                        <td>到期一次性还本付息</td>
                      </tr>
                      <tr>
                        <td>其他</td>
                        <td>可撤单，不能预约，不能转让</td>
                      </tr>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="director">
        	<div class="list">
            	<div class="list-item arr">产品信息</div>
                <div class="cnt">
                	<div class="para">
                        货币基金主要投资于银行定期存款和国债等信用级别高的
                        短期债券(详细投资组成请查看投资组合说明)，这些投资
                        安全性高，流动性强，收益稳健，出现亏损的可能性较小
                        但在一些情况下也可能出现亏损风险，例如：投资的债券
                        发生违约，不能偿还，可能产生亏损；多数用户同时赎回
                        时，基金短期内需要大量现金兑付，集中抛售债券，可能
                        产生亏损。<br/>
                        博时基金货币B有博时基金管理有限公司提供并进行投资
                        管理，直销银行仅作为金融产品信息服务平台。
                    </div>
                </div>
            </div>
        	<div class="list">
            	<div class="list-item arr">风险提示</div>
                <div class="cnt">
                	<div class="para">
                        货币基金主要投资于银行定期存款和国债等信用级别高的
                        短期债券(详细投资组成请查看投资组合说明)，这些投资
                        安全性高，流动性强，收益稳健，出现亏损的可能性较小
                        但在一些情况下也可能出现亏损风险，例如：投资的债券
                        发生违约，不能偿还，可能产生亏损；多数用户同时赎回
                        时，基金短期内需要大量现金兑付，集中抛售债券，可能
                        产生亏损。<br/>
                        博时基金货币B有博时基金管理有限公司提供并进行投资
                        管理，直销银行仅作为金融产品信息服务平台。
                    </div>
                </div>
            </div> 
        </div>
        <div class="fixBtn">
        	<div class="btnGrp">
                <button class="zen-btn">立即购买</button>
            </div>
        </div>
	</div> 
    <script type="text/javascript" src="../scripts/libs/echarts-all.js"></script>
    <script type="text/javascript" src="../scripts/libs/jquery/jquery-2.1.3.min.js"></script>
	<script>
    $(function(){
		// tab切换
		var tabPointPage = $('.tabPoint >div');
		$('.fudDetail .tab .cell').on('click', function(){
			var idx = tabPointPage.eq($(this).index());
			$(this).addClass('active').siblings().removeClass('active');
			idx.show().siblings().hide();
		})

    	$('.director .list-item').on('click', function(){
			var me = $(this), 
			    cnt = me.next(), 
			    setH = cnt.find('.para').get(0).offsetHeight;
			me.hasClass('spr') ? 
			me.removeClass('spr') && cnt.css('height',0) : 
			me.addClass('spr') && cnt.css('height',setH);
		})
		
		/*
		 * 定义半环进度
		 */
		  
		function setHalfProgressCircle(id, num){
			var per = 100 - num;
			var elem = document.getElementById(id);
			var cutter = elem.querySelector('.cutter');
			var pct = elem.querySelector('.percent');
			var bar = cutter.querySelector('.bar');
			pct.innerText = num;
			cutter.style.transform = cutter.style.webkitTransform = 'rotate(' + per * -1.8 + 'deg)';
			bar.style.transform = bar.style.webkitTransform = 'rotate(' + per * 1.8 + 'deg)';	
		}
			
		function circleJitter(x){
			var num = 0;
			var timer = setInterval(function(){
				setHalfProgressCircle('progCircle', num);
				if (num === x) {
					clearTimeout(timer)
					return
				}
				num++
			}, 30)
		}
		
		// 此处调用数字跳动
		circleJitter(64)
		
		/*
		 * 定义条状进度
		 */
		function setStepProgress(step, num){
            var elem = document.getElementById('raiseBar');
            var st1 = elem.querySelector('.step1 i');
            var st2 = elem.querySelector('.step2 i');
            var st3 = elem.querySelector('.step3 i');
            var dt1 = elem.querySelector('.dot1');
            var dt2 = elem.querySelector('.dot2');
            var dt3 = elem.querySelector('.dot3');
            var dt4 = elem.querySelector('.dot4');
            var delay = function (fn, t) {
                var lightTimer = setTimeout(function () {
                    fn();
                    clearTimeout(lightTimer)
                }, t)
            }
            if (step == 1) {
                if(num != 0) {
                    dt1.className += ' active';
                }
                st1.style.width = num + '%'
            } else if (step == 2) {
                dt1.className += ' active';
                delay(function() {
                    dt2.className += ' active';
                }, 400)
                st1.style.width = '100%';
                st2.style.width = num + '%'
            } else if (step == 3) {
                dt1.className += ' active';
                delay(function() {
                    dt2.className += ' active';
                    delay(function () {
                        dt3.className += ' active';
                        if (num == 100) {
                            delay(function () {
                                dt4.className += ' active'
                            }, 400)
                        }
                    }, 400)
                }, 400)
                st1.style.width = '100%';
                st2.style.width = '100%';
                st3.style.width = num + '%'
            }
        }
		// 调用进度条，第一个参数为当前步骤，第二个参数为当前步骤下的进度
		setStepProgress(3, 60)
    })
    </script> 
</body>
</html>
